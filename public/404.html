<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script>
      // Robust SPA redirect for GitHub Pages project site
      var repo = "/expensoo-clean";
      var path = location.pathname;
      if (
        path !== repo + "/" &&
        !path.startsWith(repo + "/icons/") &&
        !path.startsWith(repo + "/avatars/") &&
        !path.endsWith(".js") &&
        !path.endsWith(".css") &&
        !path.endsWith(".png") &&
        !path.endsWith(".svg") &&
        !path.endsWith(".ico")
      ) {
        // Remove the repo prefix from the path
        var subPath = path.startsWith(repo) ? path.slice(repo.length) : path;
        // Redirect to the SPA entry with hash
        var redirectTo = repo + "/#" + subPath + location.search + location.hash;
        location.replace(redirectTo);
      }
    </script>
  </head>
  <body>
    <h1>Redirecting...</h1>
  </body>
</html> 